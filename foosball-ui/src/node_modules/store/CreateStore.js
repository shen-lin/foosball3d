import { applyMiddleware, compose, createStore } from "redux";
import appReducer from "reducer";
import { createEpicMiddleware } from "redux-observable";
import { rootEpic } from "epics/root";

const epicMiddleware = createEpicMiddleware();
const middleware = [epicMiddleware];
const enhancers = [];
const composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;
const store = createStore(
  appReducer,
  {},
  composeEnhancers(applyMiddleware(...middleware), ...enhancers)
);
epicMiddleware.run(rootEpic);

export default store;
