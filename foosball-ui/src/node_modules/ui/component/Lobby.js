import React, { Component } from "react";
import "./Lobby.css";
import { connect } from "react-redux";
import Avatar from "@material-ui/core/Avatar";
import Badge from "@material-ui/core/Badge";
import TextField from "@material-ui/core/TextField";

class Lobby extends Component {
  constructor(props) {
    super(props);
  }

  componentDidMount() {}

  render() {
    return (
      <div className="lobby">
        <div className="lobby-head">
          <TextField
            label={"Creator"}
            defaultValue={"Shen Lin"}
            className=""
            margin="normal"
            InputProps={{
              readOnly: true
            }}
            variant="outlined"
          />
          <TextField
            label={"Scene"}
            defaultValue={"bluesky"}
            className=""
            margin="normal"
            InputProps={{
              readOnly: true
            }}
            variant="outlined"
          />
          <TextField
            label={"Mode"}
            defaultValue={"10 Points"}
            className=""
            margin="normal"
            InputProps={{
              readOnly: true
            }}
            variant="outlined"
          />          
        </div>

        <div className="lobby-main">
          <div className="lobby-pos lobby-pos-1">
            <Badge badgeContent="&#9919;" color="primary">
              <Avatar
                className="lobby-avatar"
                src={
                  "http://graph.facebook.com/" +
                  this.props.player.id +
                  "/picture"
                }
              />
            </Badge>
          </div>

          <div className="lobby-pos lobby-pos-2">
            <Avatar
              className="lobby-avatar"
              src={
                "http://graph.facebook.com/" + this.props.player.id + "/picture"
              }
            />
          </div>

          <div className="lobby-pos lobby-pos-3">
            <Avatar
              className="lobby-avatar"
              src={
                "http://graph.facebook.com/" + this.props.player.id + "/picture"
              }
            />
          </div>
          <div className="lobby-pos lobby-pos-4">
            <Avatar
              className="lobby-avatar"
              src={
                "http://graph.facebook.com/" + this.props.player.id + "/picture"
              }
            />
          </div>
        </div>
      </div>
    );
  }
}

function mapStateToProps(state) {
  const { player } = state;

  return {
    player
  };
}

function mapDispatchToProps(dispatch) {
  return {
    actions: {
      joinRoom: (lobbyName, player) =>
        dispatch({
          type: "JOIN_ROOM",
          payload: {
            lobbyName,
            player
          }
        }),
      changeRoute: routeName =>
        dispatch({
          type: "CHANGE_ROUTE",
          routeName
        })
    }
  };
}

export default connect(
  mapStateToProps,
  mapDispatchToProps
)(Lobby);
