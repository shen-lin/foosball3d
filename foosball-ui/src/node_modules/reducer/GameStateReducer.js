import { GAME_STATE_NEW_ROOM, GAME_STATE_PLAYER_JOIN, GAME_CONTROL_Y_UPDATE } from "action/GameActions";
import update from "react-addons-update";

const gamestate = function(state = {
  leftControl: 0,
  rightControl: 0
}, action) {
  console.log(action.type, action);
  switch (action.type) {
    case GAME_STATE_PLAYER_JOIN:
      return update(state, {step: {
        $set: action.payload.step
      }, players: {
        $set: action.payload.players
      }, roominfo: {
        $set: action.payload.roominfo
      }});
    case GAME_CONTROL_Y_UPDATE:
      if (action.gameControl === 'leftControl') {
        return update(state, {leftControl: {
          $set: action.newY
        }});
      } else {
        return update(state, {rightControl: {
          $set: action.newY
        }});
      }

    default:
      return state;
  }
};

export default gamestate;
