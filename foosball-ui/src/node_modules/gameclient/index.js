import { Client } from "colyseus/colyseus.js";
const client = new Client("ws://localhost:7000");
let room = null;

const createNewLobby = lobbyName =>
  new Promise((resolve, reject) => {
    room = client.join("standard", {
      standard: lobbyName,
      scene: "bluesky"
    });

    room.onJoin.add(() => {
      
    });

    room.onStateChange.addOnce(state => {
        console.log(room.state.metadata);
        resolve(room.state.metadata);
    });
  });

export default {
  createNewLobby
};
